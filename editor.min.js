var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Object.is",function(a){return a?a:function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,b){var c=this;c instanceof String&&(c=String(c));var e=c.length;b=b||0;for(0>b&&(b=Math.max(b+e,0));b<e;b++){var f=c[b];if(f===a||Object.is(f,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,c,b){if(null==a)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,b){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,b||0)}},"es6","es3");
var editor=document.querySelector("div#editor>div#input"),output=document.querySelector("div#editor>textarea#output"),clear=document.querySelector("div#editor>div#tools>button#clear"),heading=document.querySelector("div#editor>div#tools>button#heading"),italics=document.querySelector("div#editor>div#tools>button#italics"),bold=document.querySelector("div#editor>div#tools>button#bold"),underline=document.querySelector("div#editor>div#tools>button#underline"),strikethrough=document.querySelector("div#editor>div#tools>button#strikethrough"),
ul=document.querySelector("div#editor>div#tools>button#ul"),ol=document.querySelector("div#editor>div#tools>button#ol"),video=document.querySelector("div#editor>div#tools>button#video"),image=document.querySelector("div#editor>div#tools>button#image"),gfy=document.querySelector("div#editor>div#tools>button#gfy"),hr=document.querySelector("div#editor>div#tools>button#hr");editor.addEventListener("keyup",update);function update(){output.value=editor.innerHTML}editor.addEventListener("focus",init);
function init(){console.log("focused");editor.removeEventListener("focus",init);clear.addEventListener("mousedown",function(a){a.preventDefault();document.execCommand("removeFormat");update()});heading.addEventListener("mousedown",function(a){a.preventDefault();document.execCommand("formatBlock",!1,"H2");update()});italics.addEventListener("mousedown",function(a){a.preventDefault();document.execCommand("italic");update()});bold.addEventListener("mousedown",function(a){a.preventDefault();document.execCommand("bold");
update()});underline.addEventListener("mousedown",function(a){a.preventDefault();document.execCommand("underline");update()});strikethrough.addEventListener("mousedown",function(a){a.preventDefault();document.execCommand("strikethrough");update()});ul.addEventListener("mousedown",function(a){a.preventDefault();document.execCommand("insertUnorderedList");update()});ol.addEventListener("mousedown",function(a){a.preventDefault();document.execCommand("insertOrderedList");update()});video.addEventListener("mousedown",
function(a){a.preventDefault();a=prompt("Link to the YouTube video");null!=a&&(a.includes("youtu.be")?(a=a.split("youtu.be/")[1],a=a.split("?")[0]):(a=a.split("watch?v=")[1],a=a.split("&")[0]),console.log(a),document.execCommand("insertHtml",!1,'<div class="embed"><iframe src="https://www.youtube.com/embed/'+a+'" frameborder="0" allow="autoplay; encrypted-media; picture-in-picture" allowfullscreen></iframe></div>'),update())});image.addEventListener("mousedown",function(a){a.preventDefault();a=prompt("Link to the image");
if(null!=a){var c=prompt("Alternative text");document.execCommand("insertHtml",!1,'<div class="embed"><img src="'+a+'" alt="'+c+'"></div>');update()}});gfy.addEventListener("mousedown",function(a){a.preventDefault();a=prompt("Link to the Gfycat video");null!=a&&(document.execCommand("insertHtml",!1,'<div class="embed"><iframe src=\''+a+"' frameborder='0' scrolling='no' allowfullscreen></iframe></div>"),update())});hr.addEventListener("mousedown",function(a){a.preventDefault();document.execCommand("insertHorizontalRule");
update()})};
