var os=require("os"),hasFlag=require("has-flag"),env=process.env,forceColor;if(hasFlag("no-color")||hasFlag("no-colors")||hasFlag("color=false"))forceColor=!1;else if(hasFlag("color")||hasFlag("colors")||hasFlag("color=true")||hasFlag("color=always"))forceColor=!0;"FORCE_COLOR"in env&&(forceColor=0===env.FORCE_COLOR.length||0!==parseInt(env.FORCE_COLOR,10));function translateLevel(a){return 0===a?!1:{level:a,hasBasic:!0,has256:2<=a,has16m:3<=a}}
function supportsColor(a){if(!1===forceColor)return 0;if(hasFlag("color=16m")||hasFlag("color=full")||hasFlag("color=truecolor"))return 3;if(hasFlag("color=256"))return 2;if(a&&!a.isTTY&&!0!==forceColor)return 0;a=forceColor?1:0;if("win32"===process.platform)return a=os.release().split("."),8<=Number(process.versions.node.split(".")[0])&&10<=Number(a[0])&&10586<=Number(a[2])?14931<=Number(a[2])?3:2:1;if("CI"in env)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(a){return a in env})||
"codeship"===env.CI_NAME?1:a;if("TEAMCITY_VERSION"in env)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(env.TEAMCITY_VERSION)?1:0;if("truecolor"===env.COLORTERM)return 3;if("TERM_PROGRAM"in env){var b=parseInt((env.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(env.TERM_PROGRAM){case "iTerm.app":return 3<=b?3:2;case "Apple_Terminal":return 2}}return/-256(color)?$/i.test(env.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)||"COLORTERM"in env?1:a}
function getSupportLevel(a){a=supportsColor(a);return translateLevel(a)}module.exports={supportsColor:getSupportLevel,stdout:getSupportLevel(process.stdout),stderr:getSupportLevel(process.stderr)};
